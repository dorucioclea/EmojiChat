{
  "code": "import { Resource } from \"../../../Resource/Resource\";\r\nexport class ImageSnapUtil {\r\n    async getEmojiImage(placement) {\r\n        return new Promise(resolve => {\r\n            const emojiImage = new Image();\r\n            emojiImage.src = Resource.app.path.dist.asset.image.emoji[placement.emotion || \"neutral\"](1);\r\n            emojiImage.onload = () => {\r\n                emojiImage.onload = null;\r\n                resolve(emojiImage);\r\n            };\r\n        });\r\n    }\r\n    async takePicture(videoElement, placement) {\r\n        const canvas = document.createElement(\"canvas\");\r\n        const context = canvas.getContext(\"2d\");\r\n        if (context == null)\r\n            throw new ReferenceError(`${this.constructor.name} could not render the video to a canvas: No rendering context could be fetched from the canvas element!`);\r\n        // Set the canvas size to follow the size of the video.\r\n        const { width, height } = videoElement;\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        // Draw the video on to the canvas.\r\n        context.drawImage(videoElement, 0, 0, width, height);\r\n        // Now, render a new emoji to an image tag on the same coordinates.\r\n        const emojiImage = await this.getEmojiImage(placement);\r\n        context.drawImage(emojiImage, placement.left, placement.top, placement.width, placement.height);\r\n        return canvas.toDataURL();\r\n    }\r\n}\r\n//# sourceMappingURL=ImageSnapUtil.js.map",
  "map": {
    "version": 3,
    "file": "ImageSnapUtil.js",
    "sourceRoot": "",
    "sources": [
      "../../../../src/Service/ImageSnapUtil/ImageSnapUtil.ts"
    ],
    "names": [],
    "mappings": "AACA,OAAO,EAAC,QAAQ,EAAC,MAAM,4BAA4B,CAAC;AAEpD,MAAM;IAEG,KAAK,CAAC,aAAa,CAAE,SAA0B;QACtD,MAAM,CAAC,IAAI,OAAO,CAAmB,OAAO;YAE3C,MAAM,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;YAC/B,UAAU,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAE7F,UAAU,CAAC,MAAM,GAAG;gBACb,UAAW,CAAC,MAAM,GAAG,IAAI,CAAC;gBAChC,OAAO,CAAC,UAAU,CAAC,CAAC;YACrB,CAAC,CAAC;QACH,CAAC,CAAC,CAAC;IACJ,CAAC;IAEM,KAAK,CAAC,WAAW,CAAE,YAA8B,EAAE,SAA0B;QAEnF,MAAM,MAAM,GAAuB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACpE,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACxC,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,cAAc,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,yGAAyG,CAAC,CAAC;QAEjL,uDAAuD;QACvD,MAAM,EAAC,KAAK,EAAE,MAAM,EAAC,GAAG,YAAY,CAAC;QACrC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;QACrB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QAEvB,mCAAmC;QACnC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAErD,mEAAmE;QACnE,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACvD,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,EAAE,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;QAChG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;IAC3B,CAAC;CAED"
  }
}
