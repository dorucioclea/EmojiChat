{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { MediaComponent } from \"../MediaComponent/MediaComponent\";\r\nimport { selector } from \"../Component/Component\";\r\nlet ImageComponent = class ImageComponent extends MediaComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.role = \"img\";\r\n        this.placeholderMedia = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBmaWxsPSJyZ2JhKDAsMCwwLDAuMTIpIiBkPSJNOS43IDEyLjZsMS42IDIgMi4zLTMgMyA0SDcuM20xMC40LjZ2LTljMC0uOC0uNi0xLjQtMS4zLTEuNGgtOUM2LjYgNS44IDYgNi40IDYgN3Y5LjJjMCAuNy43IDEuMyAxLjQgMS4zaDljLjggMCAxLjQtLjYgMS40LTEuM3oiLz4KPC9zdmc+\";\r\n    }\r\n    static get observedAttributes() {\r\n        return [...super.observedAttributes, \"width\", \"height\"];\r\n    }\r\n    static markup() {\r\n        return `\n\t\t<img id=\"placeholderImage\"/>\n\t\t<img id=\"mainImage\" />`;\r\n    }\r\n    static styles() {\r\n        // language=CSS\r\n        return `\n\n\t\t\t:host {\n\t\t\t\tbackface-visibility: hidden;\n\t\t\t\ttransform: translate3d(0,0,0);\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\theight: 250px;\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-width: 100%;\n\t\t\t\tpadding: 0;\n\t\t\t\toverflow: hidden;\n\t\t\t\tcontain: strict;\n\t\t\t\tborder: none;\n\t\t\t}\n\n\t\t\t:host(:not([loaded])) #mainImage,\n\t\t\t:host([loaded]) #placeholderImage {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t#placeholderImage,\n\t\t\t#mainImage {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tuser-select: none;\n\t\t\t\tbackface-visibility: hidden;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tcontain: strict;\n\t\t\t\ttransition: opacity var(--duration-entering) ease;\n\t\t\t\theight: inherit;\n\t\t\t\twidth: inherit;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\topacity: 1;\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\n\t\t\t:host([contained]) #placeholderImage,\n\t\t\t:host([contained]) #mainImage {\n\t\t\t\t object-fit: contain;\n\t\t\t}\n\n\t\t\t:host([cover]) #placeholderImage,\n\t\t\t:host([cover]) #mainImage {\n\t\t\t \tobject-fit: cover;\n\t\t\t}\n\t\t`;\r\n    }\r\n    async onPlaceholderTapped() {\r\n        if (this.loaded || this.loading)\r\n            return;\r\n        await this.load();\r\n    }\r\n    connectedCallback() {\r\n        const placeholder = this.element(\"placeholderImage\");\r\n        placeholder.addEventListener(\"click\", () => this.onPlaceholderTapped());\r\n        placeholder.src = this.placeholderMedia;\r\n    }\r\n    async loadMedia(media) {\r\n        const mainImage = this.element(\"mainImage\");\r\n        mainImage.src = media;\r\n        mainImage.onload = () => {\r\n            mainImage.onload = null;\r\n            this.onLoadMediaSuccessAction();\r\n        };\r\n        mainImage.onerror = () => {\r\n            mainImage.onload = null;\r\n            this.onLoadMediaFailedAction();\r\n        };\r\n    }\r\n    async setInitialState() {\r\n        this.element(\"mainImage\").removeAttribute(\"src\");\r\n        this.loaded = false;\r\n    }\r\n    async attributeChangedCallback(attrName, _, newValue) {\r\n        await super.attributeChangedCallback(attrName, _, newValue);\r\n        switch (attrName) {\r\n            case \"width\":\r\n            case \"height\":\r\n                const placeholder = this.element(\"placeholderImage\");\r\n                const mainImage = this.element(\"mainImage\");\r\n                if (newValue == null) {\r\n                    if (placeholder.hasAttribute(attrName))\r\n                        placeholder.removeAttribute(attrName);\r\n                    if (mainImage.hasAttribute(attrName))\r\n                        mainImage.removeAttribute(attrName);\r\n                }\r\n                else {\r\n                    placeholder.setAttribute(attrName, newValue);\r\n                    mainImage.setAttribute(attrName, newValue);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n};\r\nImageComponent = tslib_1.__decorate([\r\n    selector(\"image-element\")\r\n], ImageComponent);\r\nexport { ImageComponent };\r\n//# sourceMappingURL=ImageComponent.js.map",
  "map": {
    "version": 3,
    "file": "ImageComponent.js",
    "sourceRoot": "",
    "sources": [
      "../../../../src/Component/ImageComponent/ImageComponent.ts"
    ],
    "names": [],
    "mappings": ";AAAA,OAAO,EAAC,cAAc,EAAC,MAAM,kCAAkC,CAAC;AAEhE,OAAO,EAAC,QAAQ,EAAC,MAAM,wBAAwB,CAAC;AAGhD,IAAa,cAAc,GAA3B,oBAA4B,SAAQ,cAAc;IADlD;;QAEQ,SAAI,GAAG,KAAK,CAAC;QACb,qBAAgB,GAAG,oaAAoa,CAAC;IAsHhc,CAAC;IApHA,MAAM,KAAK,kBAAkB;QAC5B,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,kBAAkB,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IACzD,CAAC;IAEM,MAAM,CAAC,MAAM;QACnB,MAAM,CAAC;;yBAEgB,CAAC;IACzB,CAAC;IAEM,MAAM,CAAC,MAAM;QACnB,eAAe;QACf,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmDN,CAAC;IACH,CAAC;IAEM,KAAK,CAAC,mBAAmB;QAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC;QACxC,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;IAES,iBAAiB;QAC1B,MAAM,WAAW,GAAsB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;QACxE,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;QACxE,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC;IACzC,CAAC;IAES,KAAK,CAAC,SAAS,CAAE,KAAa;QACvC,MAAM,SAAS,GAAqB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC9D,SAAS,CAAC,GAAG,GAAG,KAAK,CAAC;QAEtB,SAAS,CAAC,MAAM,GAAG;YACZ,SAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACjC,CAAC,CAAC;QACF,SAAS,CAAC,OAAO,GAAG;YACb,SAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAChC,CAAC,CAAC;IAEH,CAAC;IAES,KAAK,CAAC,eAAe;QAC9B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACrB,CAAC;IAES,KAAK,CAAC,wBAAwB,CAAE,QAAgB,EAAE,CAAS,EAAE,QAAgB;QACtF,MAAM,KAAK,CAAC,wBAAwB,CAAC,QAAQ,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;QAE5D,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAElB,KAAK,OAAO,CAAC;YACb,KAAK,QAAQ;gBACZ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;gBACrD,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC5C,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;wBAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;oBAC9E,EAAE,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;wBAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAC3E,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,WAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBAC7C,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBAC5C,CAAC;gBACD,KAAK,CAAC;QACR,CAAC;IACF,CAAC;CACD,CAAA;AAxHY,cAAc;IAD1B,QAAQ,CAAC,eAAe,CAAC;GACb,cAAc,CAwH1B;SAxHY,cAAc"
  }
}
