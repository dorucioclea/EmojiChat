{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { Page } from \"../Page/Page\";\r\nimport { selector, uses } from \"../../Component/Component/Component\";\r\nimport { ImageComponent } from \"../../Component/ImageComponent/ImageComponent\";\r\nimport { animationOperations, eventUtil, navigationUtil, waitOperations } from \"../../Service/Services\";\r\nimport { BrowserResource } from \"../../../Resource/BrowserResource\";\r\nimport { EventName } from \"../../EventName/EventName\";\r\nlet ImageComposerPage = ImageComposerPage_1 = class ImageComposerPage extends Page {\r\n    static styles() {\r\n        // language=CSS\r\n        return super.styles() + `\n        :host {\n            flex-direction: column;\n            align-content: flex-end;\n            justify-content: flex-end;\n        }\n\n        :host, #toggles {\n            display: flex;\n        }\n\n        #toggles {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            flex-direction: row;\n            align-content: flex-start;\n            justify-content: flex-start;\n            margin: 0;\n            z-index: 1;\n        }\n\n        #toggles > * {\n            margin: 0 0 var(--distance-regular) var(--distance-minimum);\n        }\n\n        #image, #shutterOverlay {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n        }\n\n        #image {\n            z-index: 0;\n        }\n\n        #shutterOverlay {\n            z-index: 1;\n            background: var(--color-white-100);\n        }\n\t\t`;\r\n    }\r\n    static markup() {\r\n        // language=HTML\r\n        return `\n        <image-element id=\"image\" cover autoload></image-element>\n        <aside id=\"shutterOverlay\"></aside>\n        <aside id=\"toggles\">\n            <floating-button-element id=\"closeButton\" warning>\n                <icon-element id=\"closeIcon\" icon=\"close\"></icon-element>\n            </floating-button-element>\n            <floating-button-element id=\"sendButton\" green>\n                <icon-element id=\"sendIcon\" icon=\"send-fill\"></icon-element>\n            </floating-button-element>\n\t\t\t\t</aside>\n\t\t`;\r\n    }\r\n    onAction(payload) {\r\n        const image = this.element(\"image\");\r\n        image.setAttribute(\"src\", payload);\r\n        return new Promise(resolve => this.actionSubscriber = resolve);\r\n    }\r\n    async animateIn() {\r\n        await super.animateIn();\r\n        const element = this.element(\"shutterOverlay\");\r\n        element.style.willChange = \"opacity\";\r\n        await waitOperations.wait(100);\r\n        await animationOperations.animate(element, { opacity: [1, 0] }, { duration: ImageComposerPage_1.SHUTTER_DURATION, easing: ImageComposerPage_1.SHUTTER_EASING, fill: \"forwards\" });\r\n        element.style.willChange = null;\r\n    }\r\n    async animateOut() {\r\n        await super.animateOut();\r\n    }\r\n    setSrc(src) {\r\n        const image = this.element(\"image\");\r\n        image.setAttribute(\"src\", src);\r\n    }\r\n    async didBecomeVisible(data) {\r\n        await super.didBecomeVisible();\r\n        if (data != null && typeof data.src === \"string\") {\r\n            this.setSrc(data.src);\r\n        }\r\n    }\r\n    async connectedCallback() {\r\n        await super.connectedCallback();\r\n        eventUtil.listen(this, EventName.CLICK, this.element(\"closeButton\"), this.onCloseButtonClicked);\r\n    }\r\n    async onCloseButtonClicked() {\r\n        await navigationUtil.back();\r\n    }\r\n};\r\nImageComposerPage.routeName = new RegExp(`${BrowserResource.path.root}compose`);\r\nImageComposerPage.SHUTTER_DURATION = 500;\r\nImageComposerPage.SHUTTER_EASING = \"linear\";\r\nImageComposerPage = ImageComposerPage_1 = tslib_1.__decorate([\r\n    selector(\"image-composer-page-element\"),\r\n    uses([ImageComponent])\r\n], ImageComposerPage);\r\nexport { ImageComposerPage };\r\nvar ImageComposerPage_1;\r\n//# sourceMappingURL=ImageComposerPage.js.map",
  "map": {
    "version": 3,
    "file": "ImageComposerPage.js",
    "sourceRoot": "",
    "sources": [
      "../../../../src/Page/ImageComposerPage/ImageComposerPage.ts"
    ],
    "names": [],
    "mappings": "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"
  }
}
