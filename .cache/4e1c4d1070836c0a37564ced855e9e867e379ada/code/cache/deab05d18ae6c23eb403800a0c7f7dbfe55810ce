{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { MediaComponent } from \"../MediaComponent/MediaComponent\";\r\nimport { prop, selector } from \"../Component/Component\";\r\nlet VideoComponent = class VideoComponent extends MediaComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.role = \"img\";\r\n        this.placeholderMedia = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSI5IiB2aWV3Qm94PSIwIDAgMTQgOSI+ICA8cGF0aCBmaWxsLW9wYWNpdHk9Ii4xMiIgZD0iTTEwLjcgMy40VjFjMC0uNS0uNC0xLS44LTFIMUMuNiAwIC4zLjUuMyAxdjdjMCAuNC4zLjcuNy43aDljLjMgMCAuNy0uNC43LS44di0zbDMgM1YwbC0zIDIuOHYuNnoiLz48L3N2Zz4=\";\r\n        this.srcObject = null;\r\n        this.playing = false;\r\n    }\r\n    static get observedAttributes() {\r\n        return [...super.observedAttributes, \"width\", \"height\"];\r\n    }\r\n    get nativeVideoElement() {\r\n        return this.element(\"video\");\r\n    }\r\n    get hasMedia() {\r\n        return this.hasAttribute(\"src\") || this.srcObject != null;\r\n    }\r\n    get currentMedia() {\r\n        return this.srcObject || this.getAttribute(\"src\");\r\n    }\r\n    static markup() {\r\n        return `\n\t\t<img id=\"placeholderImage\"/>\n\t\t<video preload=\"metadata\" id=\"video\" webkit-playsinline></video>`;\r\n    }\r\n    static styles() {\r\n        // language=CSS\r\n        return `\n\n        :host {\n            backface-visibility: hidden;\n            transform: translate3d(0, 0, 0);\n            box-sizing: border-box;\n            height: 250px;\n            position: relative;\n            display: block;\n            width: 100%;\n            max-width: 100%;\n            padding: 0;\n            overflow: hidden;\n            contain: strict;\n            border: none;\n        }\n\n        :host(:not([loaded])) #video,\n        :host([loaded]) #placeholderImage {\n            opacity: 0;\n            pointer-events: none;\n        }\n\n        #video {\n            height: inherit;\n            width: inherit;\n            margin: 0 auto;\n        }\n\n        #placeholderImage,\n        #video {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            user-select: none;\n            backface-visibility: hidden;\n            box-sizing: border-box;\n            contain: strict;\n            transition: opacity var(--duration-entering) ease;\n            opacity: 1;\n            visibility: visible;\n        }\n\n        #placeholderImage {\n            margin: auto;\n            width: 50%;\n        }\n\n        :host([contained]) #placeholderImage,\n        :host([contained]) #video {\n            object-fit: contain;\n        }\n\n        :host([cover]) #placeholderImage,\n        :host([cover]) #video {\n            object-fit: cover;\n        }\n\t\t`;\r\n    }\r\n    async onPropChanged({ prop, newValue, oldValue }) {\r\n        await super.onPropChanged({ prop, newValue, oldValue });\r\n        switch (prop) {\r\n            case \"srcObject\":\r\n                if (this.srcObject == null)\r\n                    this.unload().then();\r\n                else if (this.hasAttribute(\"autoload\")) {\r\n                    this.load().then();\r\n                }\r\n                else {\r\n                    this.loaded = false;\r\n                    this.loading = false;\r\n                }\r\n                break;\r\n            case \"playing\":\r\n                this.toggleAttribute(\"playing\", this.playing);\r\n        }\r\n    }\r\n    async play() {\r\n        await this.load();\r\n        const video = this.element(\"video\");\r\n        video.play();\r\n        this.playing = true;\r\n    }\r\n    async pause() {\r\n        const video = this.element(\"video\");\r\n        video.pause();\r\n        this.playing = false;\r\n    }\r\n    async stop() {\r\n        await this.pause();\r\n        const video = this.element(\"video\");\r\n        video.currentTime = 0;\r\n        await this.setInitialState();\r\n    }\r\n    async onPlaceholderTapped() {\r\n        if (this.loaded || this.loading)\r\n            return;\r\n        await this.load();\r\n    }\r\n    connectedCallback() {\r\n        const placeholder = this.element(\"placeholderImage\");\r\n        placeholder.addEventListener(\"click\", () => this.onPlaceholderTapped());\r\n        placeholder.src = this.placeholderMedia;\r\n    }\r\n    async loadMedia(media) {\r\n        const video = this.element(\"video\");\r\n        if (typeof media === \"string\")\r\n            video.src = media;\r\n        else\r\n            video.srcObject = media;\r\n        video.onloadedmetadata = () => {\r\n            video.onload = null;\r\n            this.onLoadMediaSuccessAction();\r\n        };\r\n        video.onerror = () => {\r\n            video.onload = null;\r\n            this.onLoadMediaFailedAction();\r\n        };\r\n    }\r\n    async setInitialState() {\r\n        const video = this.element(\"video\");\r\n        video.removeAttribute(\"src\");\r\n        video.srcObject = null;\r\n        this.loaded = false;\r\n    }\r\n    async attributeChangedCallback(attrName, _, newValue) {\r\n        await super.attributeChangedCallback(attrName, _, newValue);\r\n        switch (attrName) {\r\n            case \"width\":\r\n            case \"height\":\r\n                const video = this.element(\"video\");\r\n                if (newValue == null) {\r\n                    if (video.hasAttribute(attrName))\r\n                        video.removeAttribute(attrName);\r\n                }\r\n                else {\r\n                    video.setAttribute(attrName, newValue);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    onUnloadMediaAction() {\r\n        super.onUnloadMediaAction();\r\n        this.srcObject = null;\r\n    }\r\n};\r\ntslib_1.__decorate([\r\n    prop\r\n], VideoComponent.prototype, \"srcObject\", void 0);\r\ntslib_1.__decorate([\r\n    prop\r\n], VideoComponent.prototype, \"playing\", void 0);\r\nVideoComponent = tslib_1.__decorate([\r\n    selector(\"video-element\")\r\n], VideoComponent);\r\nexport { VideoComponent };\r\n//# sourceMappingURL=VideoComponent.js.map",
  "map": {
    "version": 3,
    "file": "VideoComponent.js",
    "sourceRoot": "",
    "sources": [
      "../../../../src/Component/VideoComponent/VideoComponent.ts"
    ],
    "names": [],
    "mappings": "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"
  }
}
