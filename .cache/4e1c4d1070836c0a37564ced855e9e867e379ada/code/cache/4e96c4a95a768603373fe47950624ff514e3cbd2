{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { Component, selector } from \"../Component/Component\";\r\nimport { agentDetector, eventUtil, waitOperations } from \"../../Service/Services\";\r\nlet ScrollComponent = ScrollComponent_1 = class ScrollComponent extends Component {\r\n    constructor() {\r\n        super();\r\n        this.role = \"list\";\r\n        if (agentDetector.isIOSDevice && !ScrollComponent_1.BOUND_BODY_LISTENER) {\r\n            ScrollComponent_1.BOUND_BODY_LISTENER = true;\r\n            eventUtil.listen(this, \"touchmove\", document.body, ScrollComponent_1.onBodyTouchMove, false);\r\n        }\r\n    }\r\n    static markup() {\r\n        return `<slot></slot>`;\r\n    }\r\n    static styles() {\r\n        // language=CSS\r\n        return `\n\n\t\t\t:host {\n\t\t\t\ttransform: translate3d(0,0,0);\n\t\t\t\tbackface-visibility: hidden;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tcontain: content;\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t:host,\n\t\t\t:host([direction=\"y\"]),\n\t\t\t:host([direction=\"Y\"]) {\n\t\t\t\toverflow-y: scroll;\n\t\t\t\toverflow-x: hidden;\n\t\t\t}\n\t\t\t\n\t\t\t:host([direction=\"x\"]),\n\t\t\t:host([direction=\"X\"]) {\n\t\t\t\toverflow-y: hidden;\n\t\t\t\toverflow-x: scroll;\n\t\t\t}\n\t\t\t\n\t\t\t:host([direction=\"x\"]),\n\t\t\t:host([direction=\"X\"]) {\n\t\t\t\toverflow-y: hidden;\n\t\t\t\toverflow-x: scroll;\n\t\t\t}\n\t\t\t\n\t\t\t:host([direction=\"both\"]),\n\t\t\t:host([direction=\"both\"]) {\n\t\t\t\toverflow-y: scroll;\n\t\t\t\toverflow-x: scroll;\n\t\t\t\toverflow: scroll;\n\t\t\t}\n\t\t`;\r\n    }\r\n    static onBodyTouchMove(e) {\r\n        if (e.cancelable && !e._isScroller) {\r\n            return e.preventDefault();\r\n        }\r\n    }\r\n    disconnectedCallback() {\r\n        super.disconnectedCallback();\r\n        this.unlistenForScrollTarget(this);\r\n    }\r\n    async connectedCallback() {\r\n        super.connectedCallback();\r\n        this.listenForScrollTarget(this);\r\n        await this.connectScroller();\r\n    }\r\n    async connectScroller() {\r\n        if (agentDetector.isIOSDevice) {\r\n            await waitOperations.wait(1000);\r\n            this.style.webkitOverflowScrolling = \"touch\";\r\n        }\r\n    }\r\n    listenForScrollTarget(target) {\r\n        if (agentDetector.isIOSDevice) {\r\n            eventUtil.listen(this, \"touchstart\", target, this.onScrollTargetTouchstart);\r\n            eventUtil.listen(this, \"touchmove\", target, this.onScrollTargetTouchmove);\r\n        }\r\n    }\r\n    unlistenForScrollTarget(target) {\r\n        if (agentDetector.isIOSDevice) {\r\n            eventUtil.unlisten(this, \"touchstart\", target, this.onScrollTargetTouchstart);\r\n            eventUtil.unlisten(this, \"touchmove\", target, this.onScrollTargetTouchmove);\r\n        }\r\n    }\r\n    canScroll(target) {\r\n        if (!(target instanceof HTMLElement))\r\n            return false;\r\n        if (target.scrollHeight === target.offsetHeight)\r\n            throw new TypeError(`scrollTarget is either not visible or hasn't got a fixed height and display style property. Couldn't decide scrollability`);\r\n        return target.scrollHeight > target.offsetHeight;\r\n    }\r\n    fixScrollBounds(target) {\r\n        if (!(target instanceof HTMLElement))\r\n            return;\r\n        const { scrollTop } = target;\r\n        if (scrollTop === 0)\r\n            target.scrollTop = 1;\r\n        else if (scrollTop + target.offsetHeight === target.scrollHeight) {\r\n            target.scrollTop = scrollTop - 1;\r\n        }\r\n    }\r\n    onScrollTargetTouchstart(e) {\r\n        this.fixScrollBounds(e.currentTarget);\r\n    }\r\n    onScrollTargetTouchmove(e) {\r\n        if (this.canScroll(e.currentTarget))\r\n            e._isScroller = true;\r\n    }\r\n};\r\nScrollComponent.BOUND_BODY_LISTENER = false;\r\nScrollComponent = ScrollComponent_1 = tslib_1.__decorate([\r\n    selector(\"scroll-element\")\r\n], ScrollComponent);\r\nexport { ScrollComponent };\r\nvar ScrollComponent_1;\r\n//# sourceMappingURL=ScrollComponent.js.map",
  "map": {
    "version": 3,
    "file": "ScrollComponent.js",
    "sourceRoot": "",
    "sources": [
      "../../../../src/Component/ScrollComponent/ScrollComponent.ts"
    ],
    "names": [],
    "mappings": "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"
  }
}
